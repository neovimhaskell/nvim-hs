name:                nvim-hs
version:             0.0.1
synopsis:            Haskell plugin backend for neovim
description:         This package provides a plugin provider for neovim.
homepage:            https://github.com/saep/nvim-hs
license:             Apache-2.0
license-file:        LICENSE
author:              Sebastian Witte
maintainer:          woozletoff@gmail.com
copyright:           Copyright (C) Sebastian Witte
category:            Editor
build-type:          Simple
cabal-version:       >=1.10
extra-source-files:    TestPlugins.vim
                     , TestPlugins.hs
                     , nvim-hs.sh
source-repository head
    type:            git
    location:        https://github.com/saep/nvim-hs


executable nvim-hs
  main-is:              Main.hs
  hs-source-dirs:       executable
  default-language:     Haskell2010
  build-depends:        base ==4.*, nvim-hs, data-default
  ghc-options:          -threaded -rtsopts -with-rtsopts=-N

library
  exposed-modules:      Neovim
  -- Note that every module below this is considered internal and if you have to
  -- import it somewhere in your code and you think it should be generally
  -- available , you should open a ticket about inclusion in the export list of
  -- the Neovim module. Since we are still in a prototyping stage, every user of
  -- this library should have the freedom to do what she wants.
                      , Neovim.API.String
                      , Neovim.Classes
                      , Neovim.Context
                      , Neovim.Plugin
                      , Neovim.Plugin.Classes
                      , Neovim.Plugin.IPC
                      , Neovim.Plugin.IPC.Internal
                      , Neovim.Plugin.IPC.Classes
                      , Neovim.Config
                      , Neovim.Debug
                      , Neovim.Main
                      , Neovim.RPC.Common
                      , Neovim.RPC.EventHandler
                      , Neovim.RPC.FunctionCall
                      , Neovim.RPC.SocketReader
                      , Neovim.Plugin.ConfigHelper
                      , Neovim.Quickfix

  other-modules:        Neovim.Plugin.ConfigHelper.Internal
                      , Neovim.API.Parser
                      , Neovim.API.TH
  -- other-extensions:
  build-depends:        base ==4.*
                      , bytestring
                      , cereal
                      , cereal-conduit
                      , conduit
                      , conduit-extra
                      , containers
                      , data-default
                      , directory
                      , dyre
                      , filepath
                      , hslogger
                      , messagepack >= 0.4
                      , monad-control
                      , network
                      , lifted-base
                      , mtl >= 2.2.1 && < 2.3
                      , optparse-applicative
                      , parsec ==3.*
                      , process
                      , resourcet
                      , stm
                      , streaming-commons
                      , template-haskell
                      , text
                      , time
                      , transformers
                      , transformers-base
                      , utf8-string
  hs-source-dirs:       library
  default-language:     Haskell2010
  ghc-options:          -Wall


test-suite hspec
  type:                 exitcode-stdio-1.0
  hs-source-dirs:       test-suite, library
  main-is:              Spec.hs
  default-language:     Haskell2010
  build-depends:        base
                      , nvim-hs

                      , hspec ==2.*
                      , hspec-discover
                      , QuickCheck >=2.6

                      , bytestring
                      , cereal
                      , cereal-conduit
                      , conduit
                      , conduit-extra
                      , containers
                      , data-default
                      , directory
                      , dyre
                      , filepath
                      , hslogger
                      , lifted-base
                      , mtl >= 2.2.1 && < 2.3
                      , messagepack >= 0.4
                      , network
                      , optparse-applicative
                      , parsec
                      , process
                      , resourcet
                      , stm
                      , streaming-commons
                      , text
                      , template-haskell
                      , time
                      , transformers
                      , utf8-string
                      , HUnit

  ghc-options:          -threaded -rtsopts -with-rtsopts=-N

